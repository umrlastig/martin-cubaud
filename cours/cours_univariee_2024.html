<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Analyse Univariée</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/white.css">
		<link rel="stylesheet" href="plugin/tabs/tabs.css">
		<link rel="icon" type="image/png" href="logo_ENSG.png" />
		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<style>
		.top_bar {
			width: 100%;
			background-color: #97bf11;
			top: 0px;
			font-size: 35px;
		}
		
		p, a {
			font-size: 30px;
		}
		li {
			font-size: 30px;
		}
		code{
			font-size: 15px;
			line-height: 1.2em;
			max-height: 30%;
		}
		section {
			height: 100%;
		}
		b {
		color: #7a9e08;
		}
		i {
		font-style: italic;
		}
	</style>
	<!-- Add CSS for styling the tabs -->
	<style>
		.tabs {
		margin: 0px;
		display: flex;
		}
		.tab-button {
		padding: 10px 20px;
		border-radius: 10px 10px 0px 0px;
		cursor: pointer;
		background-color: #ddd;
		border: none;
		outline: none;
		}
		.tab-button:hover{
			padding: 9px 19px;
			border: 1px solid black;
		}
		.tab-button.active {
		background-color: #666;
		color: white;
		}
		.tab-content.inactive{
		display: none;
		visibility: hidden;
		height: 0px;
		margin: 0px;
		}
		.tab-content.active {
		display: block;
		visibility: visible;
		height: fit-content;
		margin: 0px;
		}
		.img.active{
			visibility: visible;
			margin: 0px;
			max-height: 50%;
			height: auto;
		}
		.img.inactive{
			visibility: hidden;
			margin: 0px;
			height: 0px;
		}
		.text.active{
			visibility: visible;
			font-size: 30px;
			margin: 20px 0px;
		}
		.text.inactive{
			visibility: hidden;
			color:white;
			font-size: 1px;
			margin: 0px 0px;
		}
	</style>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<div style="width:100%; height:100%; display: flex; flex-direction:column; justify-content: center;">
						<h2>Analyse Univariée</h2>
						<div style="width: 100%; height: 1px; background-color: #97bf11"></div>
						<h4>M2 IGAST</h4>
						<div>
							<small>
							<p>Martin Cubaud</p>
							<p>LASTIG-UGE-IGN/ENSG</p>
							<p>2024-2025</p>
							</small>
						</div>
						<img src="logo_ENSG.png" alt="reveal.js logo" style="height: 100px; margin: 0 auto 4rem auto; background: transparent; position: absolute;top: 0px;right: 0px;" class="demo-logo">
					</div>
				</section>
				
				<section>
					<h4 class="top_bar">Analyse Univariée</h4>
					<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center;">
						<p><b>Décrire</b> et <b>mesurer</b> la <b>répartition</b> des valeurs que peut prendre une variable : sa <b>distribution</b> (≈ “histogramme en continu”)</p>
						<p>Parfois certaines distributions ressemblent à des distributions bien connues : on parle de <b>lois</b>.</p>
						<p>e.g. loi normale/gaussienne, loi de Poisson, géométrique, exponentielle…</p>
						<div style="display: flex; width : 100%">
							<img src="img/images_univariees/expledistrib-1.png" style="width: 50%;">
							<img src="img/images_univariees/expledistrib-2.png" style="width: 50%;">
						</div>
					</div>
				</section>

				<section>
					<h4 class="top_bar">Histogramme d'une variable suivant une loi normale $\mathcal{N}(0, 1)$</h4>
				  
					<!-- Tab Navigation -->
					<div class="tabs">
					  <button class="tab-button numpy active" onclick="showTab('numpy')">Numpy</button>
					  <button class="tab-button pandas" onclick="showTab('pandas')">Pandas</button>
					  <button class="tab-button r" onclick="showTab('r')">R</button>
					</div>
				  
					<!-- Python Code -->
					<pre class="numpy tab-content active"><code class="language-python">xx = np.random.normal(size=2600)
plt.figure(figsize=(12, 5))
plt.hist(xx, bins=50, edgecolor="#aaaaaa", color="#44DD99")
plt.xlabel("value")
plt.ylabel("count")
plt.grid(True)
plt.show()</code></pre>
					
					<!-- Python Code -->
					<pre class="pandas tab-content inactive"><code class="language-python">xx = pd.DataFrame(np.random.normal(size=2600))
xx.hist(bins=50, figsize=(12, 5), edgecolor="#aaaaaa", color="#44DD99", grid=True)
plt.xlabel("value")
plt.ylabel("count")
plt.show()</code></pre>
					<!-- R Code -->
					<pre class="r tab-content inactive"><code class="language-r">xx <- data.frame(value=rnorm(2600))
plot1 <- ggplot(xx)+
		geom_histogram(aes(x = value),bins = 50, color="#aaaaaa", fill="#44DD99" )+
		theme_light()
plot1</code></pre>
				  <img class="numpy img active" src="img/images_univariees/numpy_hist.png">
				  <img class="pandas img inactive" src="img/images_univariees/pandas_hist.png">
				  <img class="r img inactive" src="img/images_univariees/gaussienne1-1.png">
				</section>
				<section data-transition="slide-in fade-out">
					<h4 class="top_bar">Histogramme d'une distribution<br> réelle</h4>
					<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center;">
						<img src="img/images_univariees/arbres1-1.png" width="100%">
						<p>Données : arbres de la ville de Paris [<a href="https://opendata.paris.fr/">https://opendata.paris.fr/</a>]</p>
					</div>
				</section>
				<section data-transition="fade-in slide-out">
					<h4 class="top_bar">Histogramme d'une distribution<br> réelle filtrée</h4>
					<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center;">
						<img src="img/images_univariees/arbres2-1.png" width="100%">
						<p>Données : arbres de la ville de Paris [<a href="https://opendata.paris.fr/">https://opendata.paris.fr/</a>]</p>
					</div>
				</section>
				<section>
					<h4 class="top_bar">Analyse univariée : plan</h4>
					<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start;">
						<p>Objectif : <b>Décrire la répartition des valeurs</b> d’une variable</p>
						<h5 id="mesures-de-tendance-centrale">Mesures de <b>tendance centrale</b></h5>
						<p>mode, moyenne, médiane</p>
						<h5 id="mesures-de-dispersion">Mesures de <b>dispersion</b></h5>
						<p>étendue, écart-type, variance, quantiles, coefficient de variation</p>
						<h5 id="mesures-de-forme">Mesures de <b>forme</b></h5>
						<p>symétrie (Skewness) et aplatissement (Kurtosis)</p>
					</div>
				</section>

				<section>
					<section>
						<div style="width:100%; height:100%; display: flex; flex-direction:column; justify-content: center;">
							<h4>Statistique Descriptive<br> Univariée : la tendance</h4>
							<div style="width: 100%; height: 1px; background-color: #97bf11"></div>
							<p><br></p>
							<p style="align-self: flex-start;">Moyenne(s), mode, médiane</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Moyenne</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center;">
							<p>\(\displaystyle \bar{x} = \frac{1}{n}\sum_{i=0}^{n} x_i\)</p>
							<h4 class="top_bar fragment"  data-fragment-index="1">Moyenne pondérée</h4>
							<p style="align-self: flex-start;"class="fragment"  data-fragment-index="1">Lorsque les valeurs n'ont pas le même poids</p>
							<p style="align-self: flex-start;"class="fragment"  data-fragment-index="1">Par exemple : poids = effectif de la valeur dans la population.</p>
							<p class="fragment"  data-fragment-index="1">\(\displaystyle \bar{x} = \frac{1}{\sum_{i=0}^{n} p_i}\sum_{i=0}^{n} p_i x_i\)</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Avantages et inconvénients <br>de la moyenne</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start;">
							<h5>Avantage</h5>
							<p>Chaque valeur compte</p>
							<h5>inconvénients</h5>
							<ul>
								<li>sensibilité aux valeurs extrêmes</li>
								<li>pas de signification sur les valeurs discrètes (e.g. 2.5 enfants par femme)</li>
							</ul>
							<ul style="list-style-type:'→ '">
								<li>exclure les outliers</li>
								<li>utiliser un autre estimateur</li>
								<li>étudier la distribution des valeurs (e.g. cas bimodal) et opérer une classification</li>
							</ul>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Autres Moyennes</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center;">
							
							<h4 class="top_bar fragment"  data-fragment-index="1">Moyenne géométrique</h4>
							<p class="fragment"  data-fragment-index="1">\(\displaystyle \bar{x} = \sqrt[n]{\prod _{i=0}^{n} x_i}\)</p>
							<p style="align-self: flex-start;" class="fragment"  data-fragment-index="1">Moins sensible à la présence de valeurs extrêmes</p>
							<h4 class="top_bar fragment"  data-fragment-index="2">Moyenne quadratique (RMS)</h4>
							<p class="fragment"  data-fragment-index="2">\(\displaystyle \bar{x} = \sqrt{\frac{1}{n}\sum_{i=0}^{n} x_i^2}\)</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Cas particulier : Moyenne glissante</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<p>Moyenne calculée sur une fenètre de n valeurs consécutives.</p>
							<p>e.g. on reçoit une mesure chaque seconde, très bruitée, et on désire afficher 10 minutes de signal lissé dans le temps</p>
							<p>→ on calcule pour chaque point du signal, la moyenne sur 10 valeurs consécutives (5 en avant , 5 en arrière)</p>

						</div>
					</section>
					<section>
						<h4 class="top_bar">Le Mode</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<p><b>Mode</b> : valeur la plus fréquente (effectif max.) de la série de valeurs que prend une variable.</p>
							<p><span style="color:red">⚠</span> si variable quantitative continue : faire une classification . Dans ce cas, le mode est la moyenne des valeurs min et max des bornes de la classe de plus grand effectif.</p>

						</div>
					</section>
					<section>
						<h4 class="top_bar">Avantages et inconvénients du mode</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<h5>Avantages</h5>
							<p>Peu sensible aux valeurs extrêmes (moins sensible que la moyenne)</p>
							<p>Signification concrète : la situation la plus fréquente</p>
							<h5>inconvénients</h5>
							<p>Ne dépends pas de toutes les observations : la modification d’une seule valeur n’entraîne pas une modification du mode</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">La Médiane</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<p><b>Médiane</b> : valeur qui partage une série de valeurs en <b>deux sous-ensembles d'égal effectif</b>.</p>
							<p>Comme en géométrie, la médiane est la valeur de la variable qui est la plus proche de toutes les autres.</p>

						</div>
					</section>
					<section>
						<h4 class="top_bar">étapes de calcul</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<p>Ordonner les valeurs selon un ordre croissant.</p>
							<p>Calculer le rang $i=\frac{n+1}{2}$.</p>
							<p>Si n impair, la valeur médiane existe dans la série statistique.</p>
							<p>Si n pair, la valeur médiane est entre deux valeurs, et est égale à la moyenne de ces 2 valeurs.</p>

						</div>
					</section>
					<section>
						<h4 class="top_bar">Avantages et inconvénients<br> de la médiane</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<h5>Avantages</h5>
							<p>Souvent plus pertinente que la moyenne</p>
							<p>Peu sensible aux valeurs extrêmes (moins sensible que la moyenne)</p>
							<p>Signification concrète : divise en deux la distribution : un individu sur deux a une valeur inférieure ou supérieure à celle-ci</p>
							<h5>inconvénients</h5>
							<p>Ne dépends pas de toutes les observations : la modification d’une seule valeur n’entraîne pas une modification de la médiane</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Quelle mesure choisir ?</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>Tout dépend de la distribution !</p>
							<p>→ <b>Toujours</b> afficher l"histogramme ou la distribution de densité !</p>
							<p></p>
							<p>Le <b>Mode</b> est privilégié pour les valeurs <b>nominales</b> et si on désire consider "le cas le plus fréquent".</p>
							<p>Distribution sans longue traîne ? <br>→ moyenne et médiane</p>
							<p>Plusieurs modes dans la distribution ? <br>→ classification puis médiane / moyenne par classe</p>
							
						</div>
					</section>
					<section>
						<h4 class="top_bar">Distribution bimodale</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:center; text-align: justify;">
							<img src="img/images_univariees/bimod1-1.png" width="100%">
							<p style="align-self: flex-start;">Que choisir : moyenne ou médiane ?</p>							
						</div>
					</section>
					<section>
						<h4 class="top_bar">Distribution unimodale symétrique</h4>
					  
						<!-- Tab Navigation -->
						<div class="tabs">
						  <button class="tab-button numpy active" onclick="showTab('numpy')">Numpy</button>
						  <button class="tab-button pandas" onclick="showTab('pandas')">Pandas</button>
						  <button class="tab-button r" onclick="showTab('r')">R</button>
						</div>
					  
						<!-- Python Code -->
						<pre class="numpy tab-content active"><code class="language-python">from scipy.stats import gaussian_kde
xx = np.random.normal(loc=5, scale=1, size=2900)
density = gaussian_kde(xx) #kernel density estimator
x = np.linspace(min(xx), max(xx), 100)
y = density(x) #On estime la densité entre pour 100 valeurs entre xx_min et xx_max
plt.figure(figsize=(12, 5))
plt.plot(x, y, color="#44DD99", lw=1.3)
plt.axvline(x=np.mean(xx), color="red")
plt.axvline(x=np.median(xx) + 0.02, color="blue")
plt.text(4.5, 0.2, "mean", color="red")
plt.text(5.5, 0.2, "median", color="blue")
plt.xlabel("value")
plt.ylabel("density")
plt.grid(True)
plt.show()</code></pre>
						
						<!-- Python Code -->
						<pre class="pandas tab-content inactive"><code class="language-python">xx = pd.Series(np.random.normal(loc=5, scale=1, size=2900))
ax = xx.plot(
	kind="density", ind=np.linspace(min(xx), max(xx), 100),
	figsize=(12, 5), color="#44DD99", lw=1.3, grid=True,
	xlabel="value", ylabel="density")
ax.axvline(x=xx.mean(), color="red")
ax.axvline(x=xx.median() + 0.02, color="blue")
ax.text(4.5, 0.2, "mean", color="red")
ax.text(5.5, 0.2, "median", color="blue")
ax.set_xlabel("value")</code></pre>
						<!-- R Code -->
						<pre class="r tab-content inactive"><code class="language-r">xx <- data.frame(value=rnorm(2900,mean = 5, sd = 1))
plot1 <- ggplot(xx)+
		geom_line(aes(x = value),stat = "density", color="#44DD99", lwd= 1.3)+
		geom_vline(xintercept = mean(xx$value), color="red")+
		geom_vline(xintercept = median(xx$value) + 0.02,color="blue")+
		annotate("text", x=c(4.5,5.5), y=c(0.2,0.2), colour=c("red","blue"),label=c("mean", "median"))+
		theme_light()
plot1</code></pre>
					  <img class="numpy img active" src="img/images_univariees/numpy_density.png">
					  <img class="pandas img inactive" src="img/images_univariees/pandas_density.png">
					  <img class="r img inactive" src="img/images_univariees/gaussienne2-1.png">
					</section>
					<section>
						<h4 class="top_bar">Histogramme et distribution</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:center; text-align: justify;">
							<p style="align-self: flex-start;">Histogramme pour un vecteur <b>numérique</b> :</p>
							<pre><code class="language-python">plt.figure(figsize=(12, 3))
x = np.random.geometric(p=0.5, size=2500) #eg: Combien de fois lancer une pièce avant de tomber sur face
plt.hist(x, bins=10)
plt.title("Histogram of x")
plt.xlabel("x")
plt.ylabel("Frequency")
plt.show()</code></pre>
							<img style="width:100%;" src="img/images_univariees/histoR-2.png">
						</div>
					</section>
					<section>
						<h4 class="top_bar">Histogramme et distribution</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:center; text-align: justify;">
							<p style="align-self: flex-start;">Un histogramme n’a pas de sens pour une variable <b>qualitative</b>.<br>On peut utiliser <i>plt.bar</i>, <span style="color:red">⚠</span> mais ce n’est plus une distribution !</p>
							<pre><code class="language-python">colors = sorted(["blue", "yellow", "red", "green", "purple", "orange", "black"])
samples = np.random.choice(colors, size=2500, replace=True)#['black', 'red', 'orange', ..., 'purple', 'green', 'purple']
plt.figure(figsize=(12, 3))
plt.bar(colors, np.unique(samples, return_counts=True)[1], color=colors)
plt.show()</code></pre>
							<img style="width:100%;" src="img/images_univariees/histoR2-2.png">
						</div>
					</section>
				</section>
				<section>
					<section>
						<div style="width:100%; height:100%; display: flex; flex-direction:column; justify-content: center;">
							<h4>Statistique Descriptive<br> Univariée : la dispersion</h4>
							
							<div style="width: 100%; height: 1px; background-color: #97bf11"></div>
							<p><br></p>
							<p style="align-self: flex-start;">Variance, écart-type, Coeff. de variation.</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">La <b style="color: #ffda6b;">dispersion</b> statistique</h4>
					  
						<!-- Tab Navigation -->
						<div class="tabs">
						  <button class="tab-button numpy active" onclick="showTab('numpy')">Numpy</button>
						  <button class="tab-button pandas" onclick="showTab('pandas')">Pandas</button>
						  <button class="tab-button r" onclick="showTab('r')">R</button>
						</div>
					  
						<!-- Python Code -->
						<pre class="numpy tab-content active"><code class="language-python">xy = np.random.normal(size=(900, 900))
plt.figure(figsize=(5, 5))
plt.scatter(xy[:, 0], xy[:, 1], s=21, color="#44DD99", edgecolor="#666666")
plt.xlabel("X")
plt.ylabel("Y")
plt.grid(True)
plt.axis("equal")
plt.show()</code></pre>
						
						<!-- Python Code -->
						<pre class="pandas tab-content inactive"><code class="language-python">xy = pd.DataFrame(np.random.normal(size=(900, 900)))
xy.plot(kind="scatter", x=0, y=1, s=[21], color="#44DD99", edgecolor="#666666", figsize=(5, 5), grid=True)
plt.xlabel("X")
plt.ylabel("Y")
plt.axis("equal")
plt.show()</code></pre>
						<!-- R Code -->
						<pre class="r tab-content inactive"><code class="language-r">mydataset <- data.frame(X=rnorm(900), Y=rnorm(900))
plot1 <- ggplot(mydataset)+
		geom_point(aes(x=X, y=Y), fill="#44DD99", color="#666666", shape=21)+
		coord_equal()+theme_light()
plot1</code></pre>
					  <img class="numpy img active" src="img/images_univariees/gaussienne2D-1_numpy.png">
					  <img class="pandas img inactive" src="img/images_univariees/gaussienne2D-1_pandas.png">
					  <img class="r img inactive" src="img/images_univariees/gaussienne2D-1.png">
					</section>
					<section>
						<h4 class="top_bar">Variance et écart-type</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>La <b>variance</b> est la somme des écarts carrés à la moyenne rapporté à l’effectif.</p>
							<p>\(\displaystyle var_x = \frac{1}{n}\sum_{i=0}^{n} (x_i -\bar{x})^2\)</p>
							<p>Avec $X$ une variable, $x_i$ les valeurs de la variable, $\bar{x}$ la moyenne de $X$, et $n$ l'effectif.</p>
							<p>$\sigma_x = \sqrt{var_x}$ : l'<b>écart type</b> est la racine carrée de la variance.</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Même moyenne et variances différentes</h4>
						<img src="img/images_univariees/stds.png" style="height: 75%;">
					</section>
					<section>
						<h4 class="top_bar">Variance et écart-type</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>Variance et écart-type rendent compte de la <b>dispersion</b> de la variable autour de sa moyenne.</p>
							<p>Ils sont <b>sensibles</b> aux valeurs extrêmes et toujours <b>positifs</b>.</p>
							<p>Si $var_X=0$ ou $\sigma_x=0$ , alors X est constante.</p>
							<p>Un écart-type faible indique que les valeurs sont réparties de façon <b>homogène</b> autour de la moyenne.</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Lorsque <span style="text-transform:initial;">$X \sim \mathcal{N}(\mu, \sigma)$</span></h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<img src="img/images_univariees/stddev1-1.png" style="height: 100%; align-self: center;">
							<p>$[\mu - \sigma ; \mu+\sigma] \approx \frac{2}{3}$ de l'effectif.<br>$[\mu - 2\sigma ; \mu+2\sigma] \approx 95\%$ de l'effectif.<br>$[\mu - 3\sigma ; \mu+3\sigma] \approx 99\%$ de l'effectif.</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Quantiles</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>La <b>médiane</b> sépare une population en <b>deux</b> classes d'égal effectif selon la valeur d'une variable (quantitative).</p>
							<p>Les <b>quantiles</b> séparent une population en <b>n</b> classes d'égal effectif.</p>
							<p>Les <b>quartiles</b> d'une population selon une variable $X$ sont trois valeurs $Q_1, Q_2, Q_3$,qui séparent une population en <b>quatres</b> classes d'égal effectif.</p>
							<ul >
								<li style="font-size: 18px;">25% des valeurs de <span class="math inline">\(X\)</span> sont strictement inférieures à $Q_1$</li>
								<li style="font-size: 18px;">50% des valeurs de <span class="math inline">\(X\)</span> sont strictement inférieures à $Q_2$ (médiane)</li>
								<li style="font-size: 18px;">75% des valeurs de <span class="math inline">\(X\)</span> sont strictement inférieures à $Q_3$</li>
							</ul>
							<p>De même, <b>déciles</b> et <b>centiles</b>.</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">écarts inter-quartiles et inter-déciles</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>Deux mesures de la <b>dispersion</b> d’une distribution :</p>
							<p><b>Écart inter-quartile: </b> $Q_3-Q_1$, capture 50% des valeurs de la population les plus proches de la médiane.</p>
							<p><b>Écart inter-décile: </b> $Q_9-Q_1$, capture 80% des valeurs de la population les plus proches de la médiane.</p>
						</div>
					</section>

					<section>
						<h4 class="top_bar">Les boîtes à moustaches (boxplots)</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>Représentation courante de la dispersion d’une variable à l’aide de <b>quartiles</b></p>
							<img style="align-self: center; height: 30%;" src="img/images_univariees/moustache.png">
							<ul>
								<li>La marque centrale de la boîte est la médiane</li>
								<li>Les bords de la boîte sont les quartiles $Q_1$ et $Q_3$</li>
								<li>Les extrémités des moustaches vont jusqu’à la plus grande (resp. la plus petite ) valeur inférieure (resp. supérieure) à 1.5 fois l’écart interquartile</li>
								<li>Les valeurs qui dépassent les moustaches sont affichées sous formes de points.</li>
							</ul>
						</div>
					</section>

					<section>
						<h4 class="top_bar">Les boîtes à moustaches (boxplots)</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Pandas</button>
							<button class="tab-button numpy " onclick="showTab('numpy')">Numpy</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>
						
						<!-- Python Code -->
						<pre class="pandas tab-content active"><code class="language-python">from sklearn.datasets import load_iris
iris = load_iris()
df = pd.DataFrame(iris.data, columns=iris.feature_names)
df['Species'] = iris.target_names[iris.target]
df.boxplot(by='Species', column='sepal width (cm)', vert=False, figsize=(9, 5))
plt.show()</code></pre>

						  <!-- Python Code -->
						  <pre class="numpy tab-content inactive"><code class="language-python">from sklearn.datasets import load_iris
iris = load_iris()
#We create a list by species of sepal widths.
x = [iris.data[iris.target==i, 1] for i in np.unique(iris.target)]
plt.figure(figsize=(9, 5))
plt.boxplot(x, labels=iris.target_names, vert=False)
plt.grid()
plt.xlabel("sepal width (cm)")
plt.ylabel("Species")
plt.show()</code></pre>
						  

						  <!-- R Code -->
						  <pre class="r tab-content inactive"><code class="language-r">plot1 <- ggplot(iris)+
geom_boxplot(aes(y=Sepal.Width,x= Species) ) + coord_flip()
plot1</code></pre>
						<img class="numpy img inactive" src="img/images_univariees/boxplot_numpy.png">
						<img class="pandas img active" src="img/images_univariees/boxplot_pandas.png">
						<img class="r img inactive" src="img/images_univariees/boxplot1-1.png">
					  
						
					</section>
					<section>
						<h4 class="top_bar">Avantages et inconvénients<br> des quantiles</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<h5>Avantages</h5>
							<p>Peu sensibles aux distributions aplaties et aux valeurs extrêmes</p>
							<p>L’écart inter-quantile est plus robuste que l’écart-type</p>
							<h5>inconvénients</h5>
							<p>Parfois délicat pour les variables quantitatives discrètes</p>
							<p>Les écarts inter-quantiles négligent l’influence des valeurs extrêmes sur la distribution</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Le coefficient de variation</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>Le <b>coefficient de variation</b> (CV) est une autre mesure de dispersion.</p>
							<p>C'est le ratio entre l'écart-type $\sigma_x$ et la moyenne $\bar{x}$ d'une variable quantitative X.</p>
							<p>$CV(X)=\frac{\sigma_x}{\bar{x}}$</p>
							<p>Plus il est important, plus la dispersion est grande.</p>
							<p>Plus il est proche de 0, plus les données sont homogènes.</p>
							<p>Il souffre des mêmes inconvénients que la moyenne et l'écart-type : sensibilité aux valeurs extrêmes.</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Comparaison de dispersion de deux distributions de valeurs</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>Exemple : deux communes versent des aides aux entreprises locales.</p>
							<p>Commune A : moyenne = 390€, $\sigma$ = 30€</p>
							<p>Commune B : moyenne = 152€, $\sigma$ = 8€</p>
							<p>Pour quelle commune les aides sont les plus homogènes ?</p>
							<p></p>
							<p style="font-size: 18px;">On pourrait aussi comparer des distribution de valeurs exprimées dans des unités différentes !</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar"><b style="color: #ffda6b;">(Mauvaise)</b> Comparaison visuelle de deux distributions</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Numpy</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  <pre class="numpy tab-content active"><code class="language-python">A = np.random.normal(size=10000, loc=390, scale=30)
B = np.random.normal(size=10000, loc=152, scale=8)
plt.figure(figsize=(20, 3))
ax = plt.subplot(1, 2, 1)
plt.hist(A, bins=10, color="white", edgecolor="black", density=True)
ax.set_xlabel("A")
ax.set_ylabel("Density")
ax.set_title("Histogram of A")
ax = plt.subplot(1, 2, 2)
plt.hist(B, bins=10, color="white", edgecolor="black", density=True)
ax.set_xlabel("B")
ax.set_ylabel("Density")
ax.set_title("Histogram of B")
plt.show()</code></pre>
						  

						  <!-- R Code -->
<pre class="r tab-content inactive"><code class="language-r">A <-  rnorm(n = 10000, mean = 390, sd = 30)
B <-  rnorm(n = 10000, mean = 152, sd = 8)
par(mfrow=c(1, 2)) #2 graphes en colonnes
hist(A, probability = T)
lines(density(A), col="red")
hist(B, probability = T)
lines(density(B), col="red")</code></pre>
						<img class="numpy img active" src="img/images_univariees/compDistNorm1-1_numpy.png">
						<img class="r img inactive" src="img/images_univariees/compDistNorm1-1.png">
					  	<p>Qu'est-ce qui ne vas pas ?</p>
						
					</section>
					<section>
						<h4 class="top_bar">Comparaison visuelle de deux distributions</h4>
													<!-- Tab Navigation -->
						<p>Il faut une <b>échelle commune</b> !</p>
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Numpy</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  <pre class="numpy tab-content active"><code class="language-python">A = np.random.normal(size=10000, loc=390, scale=30)
B = np.random.normal(size=10000, loc=152, scale=8)
plt.figure(figsize=(20, 3))
ax1 = plt.subplot(1, 2, 1)
plt.hist(A, bins=10, color="white", edgecolor="black", density=True)
ax1.set_xlabel("A")
ax1.set_ylabel("Density")
ax1.set_title("Histogram of A")
ax2 = plt.subplot(1, 2, 2, sharex=ax1, sharey=ax2)
plt.hist(B, bins=10, color="white", edgecolor="black", density=True)
ax.set_xlabel("B")
ax.set_ylabel("Density")
ax.set_title("Histogram of B")
plt.show()</code></pre>
						  

						  <!-- R Code -->
<pre class="r tab-content inactive"><code class="language-r">A <-  rnorm(n = 10000, mean = 390, sd = 30)
B <-  rnorm(n = 10000, mean = 152, sd = 8)
par(mfrow=c(1, 2))
hist(A, probability = T, xlim = c(50,600), ylim = c(0,0.05))
lines(density(A), col="red")
hist(B, probability = T,xlim = c(50,600), ylim = c(0,0.05))
lines(density(B), col="red")</code></pre>
						<img class="numpy img active" src="img/images_univariees/compDistNorm1-2_numpy.png">
						<img class="r img inactive" src="img/images_univariees/compDistNorm2-1.png">
						
					</section>
				</section>
				<section>
					<section>
						<div style="width:100%; height:100%; display: flex; flex-direction:column; justify-content: center;">
							<h4>Statistique Descriptive<br> Univariée : la forme</h4>
							
							<div style="width: 100%; height: 1px; background-color: #97bf11"></div>
							<p><br></p>
							<p style="align-self: flex-start;">Symétrie, applatissement</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar"><b style="color: #ffda6b;">Asymétrie</b> des distributions</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<img src="img/images_univariees/asym1-1.png">

						</div>
					</section>
					<section>
						<h4 class="top_bar">Les coefficients de Pearson</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<p>Deux moyens simples d'estimer l'asymétrie</p>
							<p>$C_1 = \frac{\bar{x} - mode(X)}{\sigma_x}$</p>
							<p>$C_2 = \frac{3(\bar{x} - mediane(X))}{\sigma_x}$</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Interprétation des coefficients d’asymétrie</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<ul>
								<li>Si le coefficient est <b>nul</b>, la distribution est <b>symétrique</b>.</li>
								<li>Si le coefficient est <b>négatif</b>, la distribution est <b>déformée à gauche</b> de la médiane (sur-représentation de valeurs faibles, à gauche)</li>
								<li>Si le coefficient est <b>positif</b>, la distribution est <b>déformée à droite</b> de la médiane (sur-représentation de valeurs fortes, à droite)</li>
							</ul>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Le coefficient de Fischer</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<p>Ce coefficient est le moment d’ordre 3 de la variable $X$ ( de moyenne $\mu$ et d’écart-type $\sigma$) <b>centrée réduite</b></p>
							<p>$skewness = \mathbb{E} \left[ \left( \frac{X - \mu}{\sigma} \right)^3 \right] = \frac{\Sigma_{i=0}^n(x_i - \bar{x})^3}{n\sigma^3}$</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">L'<b style="color: #ffda6b;">applatissement</b> des distributions (Kurtosis)</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<img src="img/images_univariees/kurtos1-1.png">
							<p>Courbe piquée: Peu de variation, distribution relativement homogène, beaucoup de valeurs égales ou proches de la moyenne.</p>
							<p>Courbe applatie: Variations importantes, distribution relativement hétérogène, beaucoup de valeurs s’éloignent de la moyenne.</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Coefficient d'applatissement : Kurtosis</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: left;">
							<p>Coefficient non normalisé :</p>
							<p>$K=\frac{\Sigma_{i=0}^n(x_i - \bar{x})^4}{n\sigma^4}$</p>
							<p>Si la distribution est normale, $K=3$</p>
							<p>Si $K>3$, la distribution est <b>plus applatie</b>.</p>
							<p>Si $K<3$, la distribution est <b>moins applatie</b>.</p>
							<p>On normalise parfois en considérant $K′=K−3$ (excès d’applatissement)</p>
						</div>
					</section>
				</section>
				<section>
					<section>
						<div style="width:100%; height:100%; display: flex; flex-direction:column; justify-content: center;">
							<h4>Représentation d’une distribution et Échelle de couleurs</h4>
							
							<div style="width: 100%; height: 1px; background-color: #97bf11"></div>
							
						</div>
					</section>
					<section>
						<h4 class="top_bar">Distribution et Échelle de couleurs</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<p>Pour une variable quantitative continue qu’on souhaite colorer, il n’est pas toujours possible de graduer une échelle de couleur continue.</p>
							<p>Il faut (souvent) classer les valeurs en catégories. Le <b>nombre</b> de classes et les <b>méthodes</b> de classification varient.</p>
							<p>En général : 5, 7 ou 9 classes</p>
							<ul>
								<li> < 5 trop peu de détails </li>
								<li> > 9 difficile de distinguer les classes proches</li>
							</ul>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Distribution et Échelle de couleurs</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<p>Méthodes de classifications de Qgis</p>
							<ul>
								<li> Ruptures Naturelles (Jenks) : Minimisation des variances intra-classe et maximisation des variances inter-classe </li>
								<li> Effectifs égaux (quantiles)</li>
								<li>Intervalles égaux</li>
								<li>Ecart-type : intervales de 1 ou 0.5 σ</li>
								<li>Jolies ruptures : intervalle égaux “décalés” pour faire joli : nombre ronds, puissances de 10…</li>
							</ul>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Exemple avec la surface des quartiers de Paris</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  <pre class="numpy tab-content active"><code class="language-python">import geopandas as gpd
quartier = gpd.read_file("quartier_paris.shp")
quartier.plot(figsize=(15, 5), edgecolor="black")</code></pre>
						  

						  <!-- R Code -->
<pre class="r tab-content inactive"><code class="language-r">quartiers <-  st_read("quartier_paris.shp")
plot(quartiers$geometry)</code></pre>
						<img class="numpy img active" src="img/images_univariees/quartierparis2-1_python.png">
						<img class="r img inactive" src="img/images_univariees/quartierparis2-1.png">
						
					</section>
					<section>
						<h4 class="top_bar">Allure de la distribution</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  <pre class="numpy tab-content active"><code class="language-python">quartier["surface"].plot(kind="hist", bins=15, xlabel="surface [m²]", ylabel="count", figsize=(15, 5), title="Histogram of surface")</code></pre>
						  

						  <!-- R Code -->
<pre class="r tab-content inactive"><code class="language-r">hist(quartiers$surface,breaks = 15)</code></pre>
						<img class="numpy img active" src="img/images_univariees/quartierparis3-1_python.png">
						<img class="r img inactive" src="img/images_univariees/quartierparis3-1.png">
						
					</section>
					<section>
						<h4 class="top_bar">Affichage par défaut :</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  <pre class="numpy tab-content active"><code class="language-python">quartier.plot(column="surface", legend=True, figsize=(15, 5), edgecolor="black").set_title("Surface")</code></pre>
						  

						  <!-- R Code -->
<pre class="r tab-content inactive"><code class="language-r">par(mar=c(0,0,0,0))
plot(quartiers["surface"])</code></pre>
						<img class="numpy img active" src="img/images_univariees/quartierparis4-1_python.png">
						<img class="r img inactive" src="img/images_univariees/quartierparis4-1.png">
						<p  class="r text inactive">Par défaut la fonction plot de sf utilise la méthode “pretty” avec 10 ruptures (9±1 classes) => ce sont des intervalles égaux.</p>
						<p class="numpy text active">Par défaut la fonction plot de géopandas utilise une échelle continue.</p>
						
					</section>
					<section>
						<h4 class="top_bar">Jenks à 5 , 7 et 9 classes</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>
						<div style="display: flex; flex-direction: column; flex-wrap: wrap; height:75%; justify-content: center; align-items: center;">
						<img class="numpy img active" src="img/images_univariees/quartierparis6-1_python.png" style="width:60%">
						<img class="numpy img active" src="img/images_univariees/quartierparis6-2_python.png" style="width:60%">
						<img class="numpy img active" src="img/images_univariees/quartierparis6-3_python.png" style="width:60%">
						<img class="r img inactive" src="img/images_univariees/quartierparis6-1.png" style="width:70%">
						<img class="r img inactive" src="img/images_univariees/quartierparis6-2.png" style="width:70%">
						<img class="r img inactive" src="img/images_univariees/quartierparis6-3.png" style="width:70%">
						</div>
					</section>
					<section>
						<h4 class="top_bar">Jenks à 5 , 7 et 9 classes</h4>
													<!-- Tab Navigation -->
						<p  class="r text inactive">Code R correspondant :</p>
						<p class="numpy text active">Code Python correspondant :</p>
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  <pre class="numpy tab-content active"><code class="language-python">import mapclassify
quartier.plot(column="surface", scheme="naturalbreaks", k=5, legend=True, legend_kwds={"title": "Surface", "loc": (1.01, 0), "fmt": "{:.1e}"}, figsize=(15, 3), edgecolor="black").set_title("Jenks (5)")
quartier.plot(column="surface", scheme="naturalbreaks", k=7, legend=True, legend_kwds={"title": "Surface", "loc": (1.01, 0), "fmt": "{:.1e}"}, figsize=(15, 3), edgecolor="black").set_title("Jenks (7)")
quartier.plot(column="surface", scheme="naturalbreaks", k=9, legend=True, legend_kwds={"title": "Surface", "loc": (1.01, 0), "fmt": "{:.1e}"}, figsize=(15, 3), edgecolor="black").set_title("Jenks (9)")</code></pre>
						  

						  <!-- R Code -->
<pre class="r tab-content inactive"><code class="language-r">par(mar=c(0,0,0,0))
plot(quartiers["surface"], breaks="jenks", nbreaks = 5, main = "5 breaks")
plot(quartiers["surface"], breaks="jenks", nbreaks = 7, main="7 breaks")
plot(quartiers["surface"], breaks="jenks", nbreaks = 9, main= "9 breaks")</code></pre>
						
					</section>
					<section>
						<h4 class="top_bar">Effectifs égaux (quantiles)</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  <pre class="numpy tab-content active"><code class="language-python">ax = quartier.plot(column="surface", scheme="quantiles", k=5, legend=True, legend_kwds={"title": "Surface", "loc": (1.01, 0), "fmt": "{:.1e}"}, figsize=(15, 5), edgecolor="black")
ax.set_title("Effectifs égaux")</code></pre>
						  

						<img class="numpy img active" src="img/images_univariees/quartierparis7-1_python.png">
						<img class="r img inactive" src="img/images_univariees/quartierparis7-1.png">
						
					</section>
					<section>
						<h4 class="top_bar">Intervalles égaux (7)</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  <pre class="numpy tab-content active"><code class="language-python">quartier.plot(column="surface", scheme="equal_interval", k=7, legend=True, legend_kwds={"title": "Surface", "loc": (1.01, 0), "fmt": "{:.2e}"}, figsize=(15, 5), edgecolor="black").set_title("Intervalles égaux (7)")</code></pre>
						  

						  <!-- R Code -->
<pre class="r tab-content inactive"><code class="language-r">par(mar=c(0,0,0,0))
plot(quartiers["surface"], breaks="equal", nbreaks = 7, main = "Intervalles égaux")</code></pre>
						<img class="numpy img active" src="img/images_univariees/quartierparis8-1_python.png">
						<img class="r img inactive" src="img/images_univariees/quartierparis8-1.png">
						
					</section>
					<section>
						<h4 class="top_bar">écart-types</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  <pre class="numpy tab-content active"><code class="language-python">quartier.plot(column="surface", scheme="stdmean", classification_kwds={"anchor":True}, legend=True, legend_kwds={"title": "Surface", "loc": (1.01, 0), "fmt": "{:.1e}"}, figsize=(15, 5), edgecolor="black").set_title("écart-types")</code></pre>
						  

						  <!-- R Code -->
<pre class="r tab-content inactive"><code class="language-r">par(mar=c(0,0,0,0))
plot(quartiers["surface"], breaks="sd",main = "Écart-type")</code></pre>
						<img class="numpy img active" src="img/images_univariees/quartierparis9-1_python.png">
						<img class="r img inactive" src="img/images_univariees/quartierparis9-1.png">
						<p>≈méthode des jolies ruptures sur variable centrée réduite</p>
					</section>
					<section>
						<h4 class="top_bar">Guides de choix de la méthode de classification</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							
							<p>Pour les classification manuelles : </p>
							<ul>
								<li>Les classes <b>doivent</b> contenir toutes les valeurs, être sans recouvrement, contigües et distinctes. </li>
								<li>Procéder par essai-erreur</li>
								<li>Attention aux décimales et aux extrémités</li>
							</ul>
							<p></p>
							<ul>
								<li>Si distribution uniforme → Intervalles égaux</li>
								<li>Si distribution asymétrique → Effectifs égaux, Jenks , progression géométrique (rare).</li>
								<li>Si distribution symétrique → Écart-type, intervalle égaux</li>
							</ul>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Autres classification</h4>
						<div class="tabs">
							<button class="tab-button numpy active" onclick="showTab('numpy')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<!-- Tab Navigation -->
							<p class="text r inactive">Consultez la doc de la fonction classInt du package du même nom</p>
							<p class="text numpy active">Consultez la doc du package mapclassify.</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Transformations des données</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p><span style="color: red">⚠</span> D'abord effectuer une transformation linéaire pour ajuster le domaine de la variable afin que la transformation suivante soit <b>définie</b> et <b>injective</b>, = elle associe des valeurs distinctes à des résultats distincts</p>
							<ul>
								<li>$x \mapsto log(x)$ pour une distribution asymétrique à droite ou <br>$x \mapsto \sqrt{x}$ si moins asymétrique.</li>
								<li>$x \mapsto x^2$ pour une distribution asymétrique à gauche ou <br>$x \mapsto x^3$ si très asymétrique</li>
							</ul>
							<p>(<span style="color: red">⚠</span> toujours vérifier l'allure de la distribution transformée)</p>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Variables centrées-réduites</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p><span style="color: red">⚠</span> En principe, uniquement lorsque la distribution d’une variable est proche d’une gaussienne <span style="color: red">⚠</span></p>
							<p>Centrer : soustraire la moyenne.</p>
							<p>Réduire : diviser par l'écart-type</p>
							<p>Une variable <b>centrée réduite</b> est exprimée en «écarts-types à la moyenne»</p>
							<p>→ permet de repérer les valeurs extrèmes (<-2σ ou >2σ)</p>
							<p>→ utile pour comparer des individus selon un grand nombre de variables (tableaux de synthèse)</p>
						</div>
					</section>
				</section>
				<section>
					<section>
						<div style="width:100%; height:100%; display: flex; flex-direction:column; justify-content: center;">
							<h4>Visualiser une distribution</h4>
							
							<div style="width: 100%; height: 1px; background-color: #97bf11"></div>
							<ul>
								<li>Histogramme</li>
								<li>Distribution</li>
								<li>BoxPlot</li>
								<li>Violin plot</li>
								<li>Pyramides (histogrammes juxtaposés)</li>
								<li>Polygones de fréquences</li>
								<li>Distribution cumulée, Fonction de répartition, CDF</li>
								<li>Dot strip plot</li>
							</ul>
						</div>
					</section>
					<section>
						<h4 class="top_bar">Histogramme</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  	<pre class="pandas tab-content active"><code class="language-python">from palmerpenguins import load_penguins
penguins = load_penguins()
penguins["body_mass_g"].dropna().plot(
    kind="hist", bins=50, xlabel="body mass [g]", ylabel="count",
    figsize=(15, 5), title="Penguins body mass\nhistogram", edgecolor="darkgray", color="darkorchid"
	)</code></pre>
						  

						  <!-- R Code -->
							<pre class="r tab-content inactive"><code class="language-r">library(palmerpenguins)
data(package = 'palmerpenguins')
mydata <-  penguins
histo_mass <- ggplot(mydata)+
	geom_histogram(aes(x=body_mass_g), fill="darkorchid4", color="darkgray", bins=50)+
	labs(title = "Penguins Body Mass", subtitle = "Histogram")+
	ylab("Count")+theme_light()
histo_mass</code></pre>
						<img class="pandas img active" src="img/images_univariees/histo_code_1-1_pandas.png">
						<img class="r img inactive" src="img/images_univariees/histo_code_1-1.png">
					</section>
					<section>
						<h4 class="top_bar">Distribution</h4>
						<p><span style="color: red">⚠</span> ce n'est pas une probabilité, mais une densité de probabilité. Pour obtenir la probabilité, utiliser la formule $\mathbb{P}(a\leqslant X\leqslant b) = \int_a^b f(t)\,\mathrm{d}t$</p>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  	<pre class="pandas tab-content active"><code class="language-python">ax = penguins["body_mass_g"].dropna().plot(
	kind="density",  ylabel="count",
	figsize=(15, 5), title="Penguins body mass\nProbability density and mean", color="darkorchid"
)
ax.axvline(x=penguins["body_mass_g"].dropna().mean(), color="black", linestyle="--")
ax.set_xlabel("body mass [g]")</code></pre>
						  

						  <!-- R Code -->
							<pre class="r tab-content inactive"><code class="language-r">library(palmerpenguins)
data(package = 'palmerpenguins')
mydata <-  penguins
distrib_mass <- ggplot(mydata)+
	geom_density(aes(x=body_mass_g), fill="darkorchid4", color="darkgray")+
	geom_vline(aes(xintercept=mean(body_mass_g, na.rm = T)), color="black", size=0.4, linetype="dashed" )+
	labs(title = "Penguins Body Mass", subtitle = "Probability density and mean")+
	ylab("Count")+theme_light()
distrib_mass</code></pre>
						<img class="pandas img active" src="img/images_univariees/distrib_code_1-1_pandas.png">
						<img class="r img inactive" src="img/images_univariees/distrib_code_1-1.png">
					</section>
					<section>
						<h4 class="top_bar">Boxplot</h4>
						
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  	<pre class="pandas tab-content active"><code class="language-python">penguins.boxplot(column="body_mass_g", by="species", vert=False, figsize=(15, 5)).set_xlabel("body mass [g]")</code></pre>
						  

						  <!-- R Code -->
							<pre class="r tab-content inactive"><code class="language-r">library(palmerpenguins)
data(package = 'palmerpenguins')
mydata <-  penguins
boxplot_mass <- ggplot(mydata)+
	geom_boxplot(aes(x=body_mass_g, y=species, color=species))+
	labs(title = "Penguins Body Mass", subtitle = "BoxPlot by Species")+
	ylab("Count")+theme_light()
boxplot_mass</code></pre>
						<img class="pandas img active" src="img/images_univariees/boxplot_code_1-1_pandas.png">
						<img class="r img inactive" src="img/images_univariees/boxplot_code_1-1.png">
					</section>
					<section>
						<h4 class="top_bar">Violin Plot</h4>
						<p>Distribution + miroir. Utile pour des distributions complexes, mal résumées par la moyenne et la dispersion.</p>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  	<pre class="pandas tab-content active"><code class="language-python">list_species = penguins["species"].unique()
plt.figure(figsize=(15, 5))
plt.violinplot(
	[penguins[penguins["species"]==species]["body_mass_g"].dropna() for species in list_species],   
)
plt.xticks(range(1, len(list_species)+1), list_species)
plt.xlabel("species", fontweight='bold')
plt.ylabel("body mass [g]")
plt.title("Penguins body mass\nviolin plot")</code></pre>
						  

						  <!-- R Code -->
							<pre class="r tab-content inactive"><code class="language-r">library(palmerpenguins)
data(package = 'palmerpenguins')
mydata <-  penguins
violin_mass <- ggplot(mydata)+
	geom_violin(aes(y=body_mass_g, x=species, fill=species), color="gray", trim=F)+
	labs(title = "Penguins Body Mass", subtitle = "ViolinPlot by Species")+
	ylab("Count")+theme_light()
violin_mass</code></pre>
						<img class="pandas img active" src="img/images_univariees/violin_code_1-1_pandas.png">
						<img class="r img inactive" src="img/images_univariees/violin_code_1-1.png">
					</section>
					<section>
						<h4 class="top_bar">Violin Plot et boxplot</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  	<pre class="pandas tab-content active"><code class="language-python">list_species = penguins["species"].unique()
plt.figure(figsize=(15, 5))
mass_groupby_species = [penguins[penguins["species"]==species]["body_mass_g"].dropna() for species in list_species]
plt.violinplot(mass_groupby_species, showextrema=False)
plt.boxplot(mass_groupby_species, widths=0.1)
plt.xticks(range(1, len(list_species)+1), list_species)
plt.xlabel("species", fontweight='bold')
plt.ylabel("body mass [g]")
plt.title("Penguins body mass\nviolin plot and boxplot")</code></pre>
						  

						  <!-- R Code -->
							<pre class="r tab-content inactive"><code class="language-r">library(palmerpenguins)
data(package = 'palmerpenguins')
mydata <-  penguins
violin_mass <- ggplot(mydata)+
	geom_violin(aes(y=body_mass_g, x=species, fill=species), color="lightgray", trim=F)+
	geom_boxplot(aes(y=body_mass_g, x=species, fill=species), color="black", fill="#eeeeee" ,width=0.1)+
	labs(title = "Penguins Body Mass", subtitle = "ViolinPlot and Boxplot by Species")+
	ylab("Count")+theme_light()
violin_masss</code></pre>
						<img class="pandas img active" src="img/images_univariees/violin_code_2-1_pandas.png">
						<img class="r img inactive" src="img/images_univariees/violin_code_2-1.png">
					</section>
					<section>
						<h4 class="top_bar">Pyramides (histogrammes juxtaposés)</h4>
													<!-- Tab Navigation -->
						<p>Lorsqu'une des variables est qualitative à deux modalités :</p>
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  	<pre class="pandas tab-content active"><code class="language-python">female_data = penguins[penguins['sex'] == 'female']
male_data = penguins[penguins['sex'] == 'male']
female_count = np.histogram(female_data['body_mass_g'], bins=bins)[0]
male_count = np.histogram(male_data['body_mass_g'], bins=bins)[0]
bins = np.linspace(min(penguins['body_mass_g']), max(penguins['body_mass_g']), 50)
plt.barh(bins[:-1], male_count, height=np.diff(bins)[0], label='Male', edgecolor="grey")
plt.barh(bins[:-1], -female_count, height=np.diff(bins)[0], label='Female', edgecolor="grey")
ticks = np.arange(-max(female_count), max(male_count), 2)
plt.xticks(ticks=ticks, labels=np.abs(ticks))
plt.axvline(x=0, color='black'); plt.xlabel('Count'); plt.ylabel('Body Mass [g]')
plt.title('Penguins Body Mass\nPyramid Plot by Sex')
plt.legend()</code></pre>
						  

						  <!-- R Code -->
							<pre class="r tab-content inactive"><code class="language-r">library(palmerpenguins)
data(package = 'palmerpenguins')
mydata <-  penguins
pyramide_mass <-  ggplot(mydata, aes(fill = sex)) + 
	geom_bar(data = subset(mydata, sex == "female"), stat = "bin", aes(x=body_mass_g, y=..count..*(-1)), color="grey") +
	geom_bar(data = subset(mydata, sex == "male"), stat = "bin", aes(x=body_mass_g), color="grey") + 
	scale_y_continuous(labels = paste0(as.character(c(seq(20, 0, -10), seq(10, 20, 10))))) +
	ylab("count")+  coord_flip()+
	labs(title = "Penguins Body Mass", subtitle = "Pyramid Plot by sex")+
	theme_light()
	
pyramide_mass</code></pre>
						<img class="pandas img active" style="max-width: 80%;" src="img/images_univariees/pyramide_code_1-1_pandas.png">
						<img class="r img inactive" style="max-width: 80%;" src="img/images_univariees/pyramide_code_1-1.png">
					</section>
					
					<section>
						<h4 class="top_bar">Polygones de fréquences</h4>
													<!-- Tab Navigation -->
						<p>“Histogramme en courbe”<br>Utile pour comparer plusieurs distributions</p>
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  	<pre class="pandas tab-content active"><code class="language-python">bins = np.linspace(min(penguins['body_mass_g']), max(penguins['body_mass_g']), 50)
plt.figure(figsize=(15, 5))
for species in penguins["species"].unique():
	hist = np.histogram(penguins[penguins["species"] == species]["body_mass_g"], bins=bins)[0]
	plt.plot(bins[:-1]+np.diff(bins)/2, hist, label=species)
plt.legend(title="species")
plt.xlabel("body mass [g]")
plt.ylabel("count")
plt.grid(alpha=0.5)
plt.title("Penguins body mass\nFrequency polygons")</code></pre>
						  

						  <!-- R Code -->
							<pre class="r tab-content inactive"><code class="language-r">library(palmerpenguins)
data(package = 'palmerpenguins')
mydata <-  penguins
freqpoly_mass <- ggplot(mydata)+
	geom_freqpoly(aes(x=body_mass_g, color=species), bins=50)+
	labs(title = "Penguins Body Mass", subtitle = "Frequence Polygons")+
	ylab("Count")+theme_light()
freqpoly_mass</code></pre>
						<img class="pandas img active" style="max-width: 80%;" src="img/images_univariees/frequpoly_code1-1_pandas.png">
						<img class="r img inactive" style="max-width: 80%;" src="img/images_univariees/frequpoly_code1-1.png">
					</section>
					<section>
						<h4 class="top_bar">Distribution cumulée, Fonction de répartition, CDF</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>Courbe $x, y$,<br>en $x$ la valeur de la variable $V$, en $y$ la probabilité empirique d'avoir dans la population un individu pour lequel $V \leqslant x$</p>
							<p><i>i.e.</i> c'est la fonction :<br>$F_V(x) = \mathbb{P}(V\leqslant x)$</p>
							<img src="img/images_univariees/CDF1 -1.png" style="width: 70%; align-self: center;">
						</div>
					</section>
					<section>
						<h4 class="top_bar">Distribution cumulée, Fonction de répartition, CDF</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>Permet de superposer les CDF de sous groupes de la population. Ici : les espèces des manchots.</p>
							<img src="img/images_univariees/CDF_groupe -1.png" style="width: 70%; align-self: center;">
						</div>
					</section>
					<section>
						<h4 class="top_bar">Distribution cumulée simple</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Python</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  	<pre class="pandas tab-content active"><code class="language-python">plt.figure(figsize=(15, 5))
ax=plt.subplot()
plt.xlim((penguins["body_mass_g"].min(), penguins["body_mass_g"].max()))
penguins.plot(kind="hist", ax=ax, column="body_mass_g", density=True, histtype="step", cumulative=True, bins=len(penguins),
				title="Penguins Body Mass\nCumulative Distribution Function", ylabel="Probability", legend=False)
ax.set_xlabel("body mass [g]")
plt.grid(alpha=0.5)</code></pre>
						  

						  <!-- R Code -->
							<pre class="r tab-content inactive"><code class="language-r">library(palmerpenguins)
data(package = 'palmerpenguins')
mydata <-  penguins
plot_mass <- ggplot(mydata)+
	stat_ecdf(aes(x= body_mass_g),color="darkorchid4")+
	labs(title = "Penguins Body Mass", subtitle = "Cumulative Distribution Function")+
	ylab("Probability")+theme_light()
plot_mass</code></pre>
						<img class="pandas img active" style="max-width: 80%;" src="img/images_univariees/CDF_code -1_pandas.png">
						<img class="r img inactive" style="max-width: 80%;" src="img/images_univariees/CDF_code -1.png">
					</section>
					<section>
						<h4 class="top_bar">Distribution cumulée par groupe</h4>
													<!-- Tab Navigation -->
						<div class="tabs">
							<button class="tab-button pandas active" onclick="showTab('pandas')">Matplotlib > 3.8</button>
							<button class="tab-button matplotlib inactive" onclick="showTab('matplotlib')">Matplotlib < 3.8</button>
							<button class="tab-button r" onclick="showTab('r')">R</button>
						</div>


						  <!-- Python Code -->
						  	<pre class="pandas tab-content active"><code class="language-python">plt.figure(figsize=(15, 5))
for species in penguins["species"].unique():
	plt.ecdf(penguins[penguins["species"] == species]["body_mass_g"], label=species)
plt.legend(title="species")
plt.xlabel("body mass [g]")
plt.ylabel("count")
plt.title("Penguins Body Mass\nCumulative Distribution Function")
plt.grid(alpha=0.5)</code></pre>
							
							<pre class="matplotlib tab-content inactive"><code class="language-python">def ecdf(x, vmin, vmax,**kwargs):
	x = np.asarray(x)
	argsort = np.argsort(x)
	x = x[argsort]
	cum_weights = (1 + np.arange(len(x))) / len(x)
	line, = plt.plot([vmin, x[0], *x, vmax], [0, 0, *cum_weights, 1],
											drawstyle="steps-post", **kwargs)
	return line
plt.figure(figsize=(15, 5))
vmin = penguins["body_mass_g"].min()
vmax = penguins["body_mass_g"].max()
for species in penguins["species"].unique():
	ecdf(penguins[penguins["species"] == species]["body_mass_g"], vmin=vmin, vmax=vmax, label=species)
plt.legend(title="species")
plt.xlabel("body mass [g]")
plt.ylabel("count")
plt.title("Penguins Body Mass\nCumulative Distribution Function")
plt.grid(alpha=0.5)</code></pre>
						  

						  <!-- R Code -->
							<pre class="r tab-content inactive"><code class="language-r">library(palmerpenguins)
data(package = 'palmerpenguins')
mydata <-  penguins
plot_mass <- ggplot(mydata)+
	stat_ecdf(aes(x= body_mass_g,color=species))+    #on affecte la couleur à la variable modale  
	labs(title = "Penguins Body Mass", subtitle = "Cumulative Distribution Function")+
	ylab("Probability")+theme_light()
plot_mass</code></pre>
						<img class="pandas img active" style="max-width: 80%;" src="img/images_univariees/CDF_code_groupe -1_pandas.png">
						<img class="matplotlib img inactive" style="max-width: 80%;" src="img/images_univariees/CDF_code_groupe -1_pandas.png">
						<img class="r img inactive" style="max-width: 80%;" src="img/images_univariees/CDF_code_groupe -1.png">
					</section>
				</section>
				<section>
					<section>
						<div style="width:100%; height:100%; display: flex; flex-direction:column; justify-content: center;">
							<h4>Bonus</h4>
							
							<div style="width: 100%; height: 1px; background-color: #97bf11"></div>
						</div>
					</section>
				
					<section id="fat-tail-distributions" class="slide level2">
						<h4 class="top_bar">Fat-tail distributions</h4>
						<div style="width:100%; height:75%; display: flex; flex-direction:column; justify-content: center; align-items:start; text-align: justify;">
							<p>Les distributions très asymétriques et très étendues sont délicates à résumer.</p>
							<p>Les indicateurs traditionnels sont plus efficaces lorsque la variabilité des valeurs est moindre, et leur distribution plus symétrique.</p>
							<p>e.g. Considérer la population moyenne des villes de France a-t’elle du sens ? <img src="img/images_univariees/histoVillesPop-1.png" width="768" style="display: block; margin: auto;" /></p>
						</div>
					</section>
					<section id="distribution-rang-taille-des-villes-de-france" class="slide level2">
						<h4 class="top_bar">Distribution rang-taille des villes de france</h4>
					<p>Pour mieux voir la distribution et les écarts, on trace la <strong>taille</strong> des villes en fonction de leur <strong>rang</strong></p>
					<p><img src="img/images_univariees/popVilles1%20-1.png" width="768" style="display: block; margin: auto;" /></p>
					</section>
					<section id="transformation-logarithmique" class="slide level2">
						<h4 class="top_bar">Transformation logarithmique</h4>
					<p>Appliquer une transformation <strong>monotone</strong>, <strong>bijective</strong> et <strong>inversible</strong> qui “applatisse” la distribution.</p>
					<ul>
					<li>réduit les écarts entre les valeurs</li>
					<li>resserre l’essentiel des valeurs</li>
					</ul>
					<p><span class="math inline">\(\implies\)</span> mesure de façon plus robuste tendance, dispersion et forme</p>
					<p>Ici : le logarithme décimal</p>
					</section>
					<section id="distribution-rang-logtaille" class="slide level2">
						<h4 class="top_bar">Distribution rang-log(taille)</h4>
					<p><img src="img/images_univariees/loglin1%20-1.png" width="768" style="display: block; margin: auto;" /></p>
					</section>
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/math/math.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				slideNumber: true,
				center: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX ]
			});
		</script>
		<!-- Add JavaScript for tab functionality -->
		<script>
			function showTab(tabId) {
			// Hide all tab content
			document.querySelectorAll('section').forEach(section => {
				if(section.querySelectorAll("."+tabId).length>0){
					section.querySelectorAll('.tab-content').forEach(content => {
						content.classList.remove('active');
						content.classList.add('inactive')
					});
					section.querySelectorAll('.active').forEach(content => {
						content.classList.remove('active');
						content.classList.add('inactive')
					});
				
					// Deactivate all tab buttons
					section.querySelectorAll('.tab-button').forEach(button => {
						button.classList.remove('active');
					});
				
					// Show the selected tab content
					section.querySelectorAll("."+tabId).forEach(content => {
						content.classList.remove('inactive');
						content.classList.add('active');
					});
				}
			})
			
			

			}
		</script>
	</body>
</html>
